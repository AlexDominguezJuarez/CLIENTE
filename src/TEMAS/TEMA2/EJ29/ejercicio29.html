<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Piedra, Papel o Tijera (con puntuaciÃ³n)</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <style>
      body {
          font-family: Arial, sans-serif;
          text-align: center;
          margin-top: 40px;
          background-color: #f8f8f8;
      }
      h1 { color: #333; }
      button {
          font-size: 18px;
          margin: 10px;
          padding: 10px 20px;
          cursor: pointer;
          border-radius: 8px;
          border: none;
          background-color: #3498db;
          color: white;
      }
      button:hover { background-color: #2980b9; }
      #resultado {
          font-size: 22px;
          margin-top: 20px;
          font-weight: bold;
      }
      #elecciones, #puntuacion, #log {
          margin-top: 10px;
          font-size: 18px;
          color: #555;
      }
      #log {
          margin-top: 20px;
          background: #eee;
          padding: 10px;
          width: 60%;
          margin-left: auto;
          margin-right: auto;
          border-radius: 8px;
          text-align: left;
      }
  </style>
</head>
<body>

<h1>Piedra, Papel o Tijera</h1>
<p>Elige una opciÃ³n:</p>

<button id="piedra">ğŸª¨ Piedra</button>
<button id="papel">ğŸ“„ Papel</button>
<button id="tijera">âœ‚ï¸ Tijera</button>
<button id="reiniciar" style="background:#e74c3c;">ğŸ”„ Reiniciar</button>
<button id="cambiarColor">Cambiar color</button>


<p id="puntuacion">ğŸ‘¤ Jugador: 0 | ğŸ’» PC: 0</p>
<p id="elecciones"></p>
<p id="resultado"></p>
<div id="log"></div>

<script>
  $('#cambiarColor').on('click', function () {
    const color = "#" + Math.floor(Math.random() * 16777215).toString(16);
    $('body').css('background-color', color);


    const colorOriginal = $(this).css("background-color");


    $(this).css("background-color", "#FFD700");
    setTimeout(() => {
      $(this).css("background-color", colorOriginal);
    }, 300);
    // Crear un nuevo pÃ¡rrafo motivacional
    if ($('#mensajeMotivacional').length === 0) {
      $('<p id="mensajeMotivacional">Â¡Sigue intentando vencer a la mÃ¡quina!</p>').insertAfter('#cambiarColor');
    }

  });

  $(document).ready(function() {
    const opciones = ["piedra", "papel", "tijera"];
    let puntosJugador = 0;
    let puntosPC = 0;

    function actualizarPuntuacion() {
      $("#puntuacion").text(`ğŸ‘¤ Jugador: ${puntosJugador} | ğŸ’» PC: ${puntosPC}`);
    }

    function agregarLog(texto) {
      const fecha = new Date().toLocaleTimeString();
      $("#log").prepend(`<div>ğŸ•’ [${fecha}] ${texto}</div>`);
    }

    function jugar(eleccionJugador) {
      const pc = opciones[Math.floor(Math.random() * 3)];
      $("#elecciones").html(`TÃº eliges: <b>${eleccionJugador}</b> | Ordenador elige: <b>${pc}</b>`);

      let mensaje = "";
      let color = "";

      if (eleccionJugador === pc) {
        mensaje = "Â¡Empate!";
        color = "orange";
      } else if (
        (eleccionJugador === "piedra" && pc === "tijera") ||
        (eleccionJugador === "papel" && pc === "piedra") ||
        (eleccionJugador === "tijera" && pc === "papel")
      ) {
        mensaje = "Â¡Ganaste!";
        color = "green";
        puntosJugador++;
        $('h1').text('Piedra, Papel o Tijera')

      } else {
        mensaje = "Perdiste";
        color = "red";
        puntosPC++;
        $('h1').text('Â¡Juguemos otra vez!')
      }

      $("#resultado").text(mensaje).css("color", color);
      actualizarPuntuacion();
      agregarLog(`Jugador: ${eleccionJugador} | PC: ${pc} â†’ ${mensaje}`);
    }


    // Eventos
    $("#piedra").click(() => jugar("piedra"));
    $("#papel").click(() => jugar("papel"));
    $("#tijera").click(() => jugar("tijera"));

    $("#reiniciar").click(() => {
      puntosJugador = 0;
      puntosPC = 0;
      $("#resultado, #elecciones, #log").empty();
      actualizarPuntuacion();
      agregarLog("ğŸ”„ Partida reiniciada.");
    });


  });
</script>

</body>
</html>