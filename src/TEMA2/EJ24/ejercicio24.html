<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sudoku</title>
</head>
<body>
<table id="sudoku-tablero"></table>
<br>
<button onclick="comprobarSudoku()">Comprobar Sudoku</button>
<p id="resultado"></p>

<script>

  const tabla = document.getElementById("sudoku-tablero");
  for (let i = 0; i < 9; i++) {
    const fila = document.createElement("tr");
    for (let j = 0; j < 9; j++) {
      const celda = document.createElement("td");
      const input = document.createElement("input");
      input.setAttribute("maxlength", "1"); // solo 1 dÃ­gito
      input.setAttribute("type", "number");
      input.setAttribute("min", "1");
      input.setAttribute("max", "9");
      celda.appendChild(input);
      fila.appendChild(celda);
    }
    tabla.appendChild(fila);
  }

  function leerTablero() {
    const inputs = document.querySelectorAll("#sudoku-tablero input");
    let tablero = [];
    for (let i = 0; i < 9; i++) {
      let fila = [];
      for (let j = 0; j < 9; j++) {
        const valor = parseInt(inputs[i * 9 + j].value);
        fila.push(isNaN(valor) ? 0 : valor); // 0 si no hay valor
      }
      tablero.push(fila);
    }
    return tablero;
  }
  function comprobarFilas(tablero) {
    for (let i = 0; i < 9; i++) {
      let setFila = new Set();
      for (let j = 0; j < 9; j++) {
        if (tablero[i][j] === 0) return false;
        if (setFila.has(tablero[i][j])) return false;
        setFila.add(tablero[i][j]);
      }
    }
    return true;
  }

  function comprobarColumnas(tablero) {
    for (let j = 0; j < 9; j++) {
      let setCol = new Set();
      for (let i = 0; i < 9; i++) {
        if (setCol.has(tablero[i][j])) return false;
        setCol.add(tablero[i][j]);
      }
    }
    return true;
  }

  function comprobarBloques(tablero) {
    for (let bloqueI = 0; bloqueI < 9; bloqueI += 3) {
      for (let bloqueJ = 0; bloqueJ < 9; bloqueJ += 3) {
        let setBloque = new Set();
        for (let i = 0; i < 3; i++) {
          for (let j = 0; j < 3; j++) {
            const valor = tablero[bloqueI + i][bloqueJ + j];
            if (setBloque.has(valor)) return false;
            setBloque.add(valor);
          }
        }
      }
    }
    return true;
  }
  function esSudokuCorrecto(tablero) {
    return comprobarFilas(tablero) && comprobarColumnas(tablero) && comprobarBloques(tablero);
  }

  function comprobarSudoku() {
    const tablero = leerTablero();
    const resultado = esSudokuCorrecto(tablero);
    document.getElementById("resultado").textContent = resultado ? "Sudoku correcto" : "Sudoku incorrecto";
  }
</script>

</body>
</html>